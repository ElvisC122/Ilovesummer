<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pixel Protein Tracker</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        body {
            font-family: 'Press Start 2P', cursive;
            background-color: #2d2d2d;
            color: #8bc34a;
            margin: 20px;
            image-rendering: pixelated;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            border: 4px solid #4a752d;
            padding: 20px;
            background: #1a1a1a;
        }

        .pixel-box {
            border: 3px solid #4a752d;
            padding: 15px;
            margin: 10px 0;
            background: #000000;
        }

        input, button {
            font-family: 'Press Start 2P', cursive;
            padding: 8px;
            margin: 5px;
            background: #4a752d;
            color: #c4d798;
            border: 2px solid #c4d798;
        }

        button:hover {
            background: #5e8c3a;
            cursor: pointer;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 20px 0;
        }

        th, td {
            border: 2px solid #4a752d;
            padding: 10px;
            background: #1a1a1a;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #1a1a1a;
            border: 2px solid #4a752d;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: #8bc34a;
            transition: 0.3s;
        }

        .pixel-text {
            color: #c4d798;
            text-shadow: 2px 2px #4a752d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="pixel-text">‚ñà‚ñì‚ñí‚ñë PROTEIN TRACKER ‚ñë‚ñí‚ñì‚ñà</h1>
        
        <div class="pixel-box">
            <h2>‚öôÔ∏è USER SETUP</h2>
            <label>HEIGHT (cm): </label>
            <input type="number" id="height" value="175">
            <label>WEIGHT (kg): </label>
            <input type="number" id="weight" value="70">
            <label>ACTIVITY: </label>
            <select id="activity">
                <option value="1.2">Sedentary</option>
                <option value="1.375">Light Exercise</option>
                <option value="1.55">Active</option>
                <option value="1.725">Very Active</option>
            </select>
            <button onclick="calculateNeeds()">CALCULATE</button>
            <div id="needsDisplay"></div>
        </div>

        <div class="pixel-box">
            <h2>üçñ FOOD INPUT</h2>
            <input type="text" id="foodName" placeholder="Food name">
            <input type="number" id="protein" placeholder="Protein (g)">
            <button onclick="addFood()">ADD FOOD</button>
        </div>

        <div class="pixel-box">
            <h2>üìä DAILY PROGRESS</h2>
            <div class="progress-bar">
                <div class="progress-fill" id="proteinProgress"></div>
            </div>
            <p id="remainingText"></p>
        </div>

        <table>
            <thead>
                <tr>
                    <th>FOOD</th>
                    <th>PROTEIN</th>
                    <th>TIME</th>
                </tr>
            </thead>
            <tbody id="foodList"></tbody>
            <tfoot>
                <tr>
                    <th>TOTAL</th>
                    <th id="totalProtein">0g</th>
                    <th></th>
                </tr>
            </tfoot>
        </table>
    </div>

    <script>
        let proteinNeeds = 0;
        let foods = JSON.parse(localStorage.getItem('foods')) || [];

        function calculateNeeds() {
            const height = parseFloat(document.getElementById('height').value);
            const weight = parseFloat(document.getElementById('weight').value);
            const activity = parseFloat(document.getElementById('activity').value);
            
            // ‰ΩøÁî®ÊîπËâØÂÖ¨ÂºèËÆ°ÁÆóÂü∫Á°Ä‰ª£Ë∞¢
            const bmr = 10 * weight + 6.25 * height - 5 * 25 + 5; // ÂÅáËÆæÂπ¥ÈæÑ25Â≤Å
            const tdee = bmr * activity;
            
            // Â¢ûËÇåÊâÄÈúÄËõãÁôΩË¥® (1.6-2.2g/kg)
            proteinNeeds = Math.round(weight * 2.2);
            
            document.getElementById('needsDisplay').innerHTML = `
                <p>üî• DAILY NEEDS: ${proteinNeeds}g PROTEIN</p>
                <p>‚ö° CALORIES NEEDED: ${Math.round(tdee)}kcal</p>
            `;
            
            updateProgress();
            localStorage.setItem('proteinNeeds', proteinNeeds);
        }

        function addFood() {
            const foodName = document.getElementById('foodName').value;
            const protein = parseFloat(document.getElementById('protein').value);
            
            if (!foodName || isNaN(protein)) {
                alert("ERROR! MISSING DATA");
                return;
            }

            const foodEntry = {
                name: foodName,
                protein: protein,
                time: new Date().toLocaleTimeString()
            };

            foods.push(foodEntry);
            localStorage.setItem('foods', JSON.stringify(foods));
            updateProgress();
            document.getElementById('foodName').value = '';
            document.getElementById('protein').value = '';
        }

        function updateProgress() {
            const total = foods.reduce((sum, food) => sum + food.protein, 0);
            const remaining = proteinNeeds - total;
            const progress = (total / proteinNeeds) * 100;
            
            document.getElementById('totalProtein').textContent = `${total}g`;
            document.getElementById('proteinProgress').style.width = `${Math.min(progress, 100)}%`;
            document.getElementById('remainingText').innerHTML = `
                ${remaining > 0 ? 'üçó NEED: ' + remaining + 'g MORE' : 'üéâ GOAL ACHIEVED!'}
            `;
            
            // Êõ¥Êñ∞Ë°®Ê†º
            const tbody = document.getElementById('foodList');
            tbody.innerHTML = foods.map(food => `
                <tr>
                    <td>${food.name}</td>
                    <td>${food.protein}g</td>
                    <td>${food.time}</td>
                </tr>
            `).join('');
        }

        // ÂàùÂßãÂåñ
        if (localStorage.getItem('proteinNeeds')) {
            proteinNeeds = parseInt(localStorage.getItem('proteinNeeds'));
            document.getElementById('needsDisplay').innerHTML = `
                <p>üî• DAILY NEEDS: ${proteinNeeds}g PROTEIN</p>
            `;
            updateProgress();
        }
    </script>
</body>
</html>
