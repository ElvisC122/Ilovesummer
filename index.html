<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>五十音練習機 - 時雨の町風</title>
  <style>
    body {
      font-family: "M PLUS 1", sans-serif, "微軟正黑體", "Microsoft JhengHei", sans-serif;
      background-color: #4f4f4f;
      color: #ccc;
      margin: 0; padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      user-select: none;
    }
    h1 {
      margin-bottom: 1rem;
      color: #6fbbff;
      text-shadow: 1px 1px 2px #000;
    }
    #kanaDisplay {
      font-size: 8rem;
      margin-bottom: 1rem;
      text-shadow: 2px 2px 4px #000;
    }
    #inputRomaji {
      font-size: 2rem;
      padding: 0.5rem 1rem;
      width: 200px;
      border: none;
      border-radius: 5px;
      outline: none;
      text-align: center;
      margin-bottom: 1rem;
      background: rgba(255 255 255 / 0.1);
      color: #eee;
    }
    #inputRomaji:focus {
      background: rgba(103, 201, 255, 0.2);
      color: #000;
    }
    #checkBtn {
      font-size: 1.5rem;
      padding: 0.5rem 1.5rem;
      border: none;
      border-radius: 5px;
      background-color: #66acff;
      color: #fff;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.3s ease;
    }
    #checkBtn:hover {
      background-color: #4a8de0;
    }
    #result {
      margin-top: 1rem;
      font-size: 1.5rem;
      min-height: 2rem;
      font-weight: 600;
      text-shadow: 1px 1px 2px #000;
    }
    footer {
      position: fixed;
      bottom: 0;
      width: 100%;
      text-align: center;
      padding: 0.5rem 0;
      font-size: 0.9rem;
      color: #777;
      background: #2a2a2a;
      user-select: none;
    }
  </style>
</head>
<body>
  <h1>五十音練習機</h1>
  <div id="kanaDisplay">あ</div>
  <input
    type="text"
    id="inputRomaji"
    placeholder="請輸入羅馬拼音"
    autocomplete="off"
    autocorrect="off"
    autocapitalize="off"
    spellcheck="false"
  />
  <button id="checkBtn">確認</button>
  <div id="result"></div>

  <footer>參考自「時雨の町」五十音練習機風格</footer>

  <script>
    // 五十音平假名與羅馬拼音對應表（清音）
    const gojuon = [
      { kana: "あ", romaji: "a" },
      { kana: "い", romaji: "i" },
      { kana: "う", romaji: "u" },
      { kana: "え", romaji: "e" },
      { kana: "お", romaji: "o" },
      { kana: "か", romaji: "ka" },
      { kana: "き", romaji: "ki" },
      { kana: "く", romaji: "ku" },
      { kana: "け", romaji: "ke" },
      { kana: "こ", romaji: "ko" },
      { kana: "さ", romaji: "sa" },
      { kana: "し", romaji: "shi" },
      { kana: "す", romaji: "su" },
      { kana: "せ", romaji: "se" },
      { kana: "そ", romaji: "so" },
      { kana: "た", romaji: "ta" },
      { kana: "ち", romaji: "chi" },
      { kana: "つ", romaji: "tsu" },
      { kana: "て", romaji: "te" },
      { kana: "と", romaji: "to" },
      { kana: "な", romaji: "na" },
      { kana: "に", romaji: "ni" },
      { kana: "ぬ", romaji: "nu" },
      { kana: "ね", romaji: "ne" },
      { kana: "の", romaji: "no" },
      { kana: "は", romaji: "ha" },
      { kana: "ひ", romaji: "hi" },
      { kana: "ふ", romaji: "fu" },
      { kana: "へ", romaji: "he" },
      { kana: "ほ", romaji: "ho" },
      { kana: "ま", romaji: "ma" },
      { kana: "み", romaji: "mi" },
      { kana: "む", romaji: "mu" },
      { kana: "め", romaji: "me" },
      { kana: "も", romaji: "mo" },
      { kana: "や", romaji: "ya" },
      { kana: "ゆ", romaji: "yu" },
      { kana: "よ", romaji: "yo" },
      { kana: "ら", romaji: "ra" },
      { kana: "り", romaji: "ri" },
      { kana: "る", romaji: "ru" },
      { kana: "れ", romaji: "re" },
      { kana: "ろ", romaji: "ro" },
      { kana: "わ", romaji: "wa" },
      { kana: "を", romaji: "wo" },
      { kana: "ん", romaji: "n" }
    ];

    let currentIndex = -1;

    function newQuestion() {
      currentIndex = Math.floor(Math.random() * gojuon.length);
      const kana = gojuon[currentIndex].kana;
      document.getElementById("kanaDisplay").textContent = kana;
      document.getElementById("inputRomaji").value = "";
      document.getElementById("result").textContent = "";
      document.getElementById("inputRomaji").focus();
    }

    function checkAnswer() {
      const input = document
        .getElementById("inputRomaji")
        .value.trim()
        .toLowerCase();
      const correct = gojuon[currentIndex].romaji;

      if (input === correct) {
        document.getElementById("result").textContent = "答對了！🎉";
        setTimeout(newQuestion, 1000);
      } else {
        document.getElementById("result").textContent = `答錯了，再試一次。正確答案是：${correct}`;
      }
    }

    document.getElementById("checkBtn").addEventListener("click", checkAnswer);

    // Enter鍵也能提交
    document
      .getElementById("inputRomaji")
      .addEventListener("keydown", function (e) {
        if (e.key === "Enter") {
          checkAnswer();
        }
      });

    // 初始化第一題
    newQuestion();
  </script>
</body>
</html>
